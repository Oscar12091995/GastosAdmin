<div class="card">
  <!--begin::Card header-->
  <div class="card-header border-0 pt-6">
    <!--begin::Card title-->
    <div class="card-title">
      <!--begin::Search-->
      <div class="d-flex align-items-center position-relative my-1">
        <i class="ki-duotone ki-magnifier fs-3 position-absolute ms-5"><span class="path1"></span><span
            class="path2"></span></i> <input type="text" name="search" [(ngModel)]="search"
          data-kt-customer-table-filter="search" (keyup.enter)="listUsuarios()" class="form-control form-control-solid w-250px ps-12"
          placeholder="Buscar Usuario">
      </div>
      <!--end::Search-->
    </div>
    <!--begin::Card title-->

    <!--begin::Card toolbar-->
    <div class="card-toolbar">
      <!--begin::Toolbar-->
      <div class="d-flex justify-content-end" data-kt-customer-table-toolbar="base">
        <!--begin::Add customer-->
        <button type="button" class="btn btn-light-primary me-3" (click)="createUsuario()">
          <i class="fa-duotone fa-solid fa-plus fs-2"></i>
           Nuevo Usuario
        </button>
        <!--end::Add customer-->
      </div>
      <!--end::Toolbar-->

      <!--begin::Group actions-->
      <div class="d-flex justify-content-end align-items-center d-none" data-kt-customer-table-toolbar="selected">
        <div class="fw-bold me-5">
          <span class="me-2" data-kt-customer-table-select="selected_count"></span> Selected
        </div>

        <button type="button" class="btn btn-danger" data-kt-customer-table-select="delete_selected">
          Delete Selected
        </button>
      </div>
      <!--end::Group actions-->
    </div>
    <!--end::Card toolbar-->
  </div>
  <!--end::Card header-->

  <!--begin::Card body-->
  <div class="card-body pt-0">

    <!--begin::Table-->
    <div id="kt_customers_table_wrapper" class="dt-container dt-bootstrap5 dt-empty-footer">
      <span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="isLoading | async"></span>
      <div id="" class="table-responsive">

        <table class="table align-middle table-row-dashed fs-6 gy-5 dataTable" id="kt_customers_table"
          style="width: 100%;">
          <!-- <colgroup>
                        <col data-dt-column="0" style="width: 36.4px;">
                        <col data-dt-column="1" style="width: 159.413px;">
                        <col data-dt-column="2" style="width: 200.312px;">
                        <col data-dt-column="3" style="width: 229.613px;">
                        <col data-dt-column="4" style="width: 162.825px;">
                        <col data-dt-column="5" style="width: 213.025px;">
                        <col data-dt-column="6" style="width: 134.113px;">
                    </colgroup> -->
          <thead>
            <tr class="text-start text-gray-500 fw-bold fs-7 text-uppercase gs-0">
              <th class="min-w-125px dt-orderable-asc dt-orderable-desc" data-dt-column="1" rowspan="1" colspan="1"
                aria-label="Customer Name: Activate to sort" tabindex="0"><span class="dt-column-title"
                  role="button">Nombre Completo</span><span class="dt-column-order"></span></th>
              <th class="min-w-125px dt-orderable-asc dt-orderable-desc" data-dt-column="2" rowspan="1" colspan="1"
                aria-label="Email: Activate to sort" tabindex="0"><span class="dt-column-title"
                  role="button">Rol</span><span class="dt-column-order"></span></th>
              <th class="min-w-125px dt-orderable-asc dt-orderable-desc" data-dt-column="5" rowspan="1" colspan="1"
                aria-label="Created Date: Activate to sort" tabindex="0"><span class="dt-column-title"
                  role="button">Fecha registro</span><span class="dt-column-order"></span></th>
              <th class="min-w-70px dt-orderable-none" data-dt-column="6" rowspan="1" colspan="1" aria-label="Actions">
                <span class="dt-column-title">Acciones</span><span class="dt-column-order"></span></th>
            </tr>
          </thead>
          <tbody class="fw-semibold text-gray-600">

            <ng-container *ngFor="let USUARIO of USUARIOS">
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <div class="symbol symbol-50px me-5">
                        <img [src]="USUARIO.avatar" class="" alt="">
                    </div>

                    <div class="d-flex justify-content-start flex-column">
                        <a href="#" class="text-gray-900 fw-bold text-hover-primary mb-1 fs-6">{{USUARIO.full_name}}</a>
                        <span class="text-muted fw-semibold text-muted d-block fs-7">{{USUARIO.email}}</span>
                    </div>
                  </div>
                </td>

                <td>
                  {{USUARIO.role.name}}
                </td>

                <td data-order="2020-12-14T20:43:00-06:00">
                  {{USUARIO.created_at}}
                </td>
                <td class="">
                  <!-- boton para editar -->
                  <a href="#" onclick="return false;" (click)="editUsuario(USUARIO)"
                    class="btn btn-icon btn-bg-light btn-active-color-success btn-sm me-1" data-bs-toggle="tooltip"
                    data-bs-placement="top" title="Editar">
                    <i class="ki-duotone ki-pencil fs-1"><span class="path1"></span><span class="path2"></span></i>
                  </a>
                  <!-- boton para eliminar -->
                  <a href="#" onclick="return false;" (click)="deleteUsuario(USUARIO)" class="btn btn-icon btn-bg-light btn-active-color-danger btn-sm"
                    data-bs-toggle="tooltip" data-bs-placement="top" title="Eliminar">

                    <i class="ki-duotone ki-trash fs-2x"><span class="path1"></span><span class="path2"></span><span
                        class="path3"></span><span class="path4"></span><span class="path5"></span></i>
                  </a>
                </td>
              </tr>
            </ng-container>
          </tbody>
          <tfoot></tfoot>
        </table>
        <!--  para la paginacion de los datos y el 25 este numero de pagina corresponde al paginado que se declara en el backend del api-->
        <ngb-pagination
                    [collectionSize]="totalPages"
                    [(page)]="currentPage"
                    [pageSize]="25"
                    [rotate]="true"
                    [boundaryLinks]="true"
                    (pageChange)="loadPage($event)"
                ></ngb-pagination>
      </div>

    </div>
    <!--end::Table-->
  </div>
  <!--end::Card body-->
</div>

